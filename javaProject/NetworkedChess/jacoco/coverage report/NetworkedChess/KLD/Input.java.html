<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>Input.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">NetworkedChess (Mar 7, 2016 4:29:16 PM)</a> &gt; <a href="../../index.html" class="el_group">NetworkedChess</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">KLD</a> &gt; <span class="el_source">Input.java</span></div><h1>Input.java</h1><pre class="source lang-java linenums">package KLD;

/*READ ME:
 * Last update:  June 12, 2013
 * 
 * Definition: 
 * 	Input class creates object that handles KeyListener, MouseListener, MouseMotionListener. 
 * 	
 * Purpose: 
 * The main purpose of the class is to keep track of every single key on your keyboard using boolean types.
 * 	
 * How to use: 
 *  &lt;KeyCode&gt;
 *  You either use Input.[name of the key] or use KeyEvent.VK_[name of key] to get the keyCode
 * 
 * 
 *  &lt;KEYS AND KEYBOARD&gt;
 * 1-keyIsDown(keyCode : int) returns true as long as the passed keyCode is pressed or down
 * 2-keyIsUp (keyCode : int) returns the opposite of keyIsDown(keyCode)
 * 3-keyIsClicked(keyCode: int) return true only the first time the key is down, and resets when key is released
 * 
 * 4-anyKeyIsDown() returns true if any key is down. 
 * 5-anyKeyIsUp() returns !anyKeyIsDown
 * 6-anyKeyIsClicked() return any clicked key. 
 * 
 * 7-getKeyString() returns the last key pressed as a string
 * 
 * 
 *  &lt;MOUSE&gt; 
 * 1-point : Point keeps track of the mouse point. 
 * 2-mouseIsDown() returns true if the mouse is down. 
 * 3-mouseIsUp() returns !mouseIsDown()
 * 4-mouseClicked() returns true when you click.. same as keyIsClick
 *  
 *  
 *  Future: TODO
 * 		rename mouseClicked to mouseIsSingleRightClicked. 
 *  	add mouseIsDoubleRightClicked
 * 		add mouseIsSingleLeftClicked
 * 		add mouseIsDoubleLeftClicked
 * 		add mouseIsThirdClicked
 * 		add mouseIsScrollingUp
 * 		add mouseIsScrollingDown
 *      add mouseIsMoving
 *      add mouseIsNotMoving
 *      
 * old random description. no need to read them, but I'm keeping them as a memory :) 
 * Using this class will allow you to interact with keys and mouse
 * ###############################################################
 * This class is mainly used for games that uses keys
 * Feel free to use it
 * It is created by KLD and I got the idea from Slick 
 * ###############################################################
 * Three main methods were created : 
 * keyIsDown(int keyCode), keyIsClicked(int keyCode), keyIsUp(int keyCode) : boolean
 * #########################3#####################################
 * One additional function is also provided which is : setListener(Component c): void
 *  use Event.KeyCode(VK_&quot;anyKey&quot;) : int    and pass it to the three main functions. 
 */

import java.awt.Component;
import java.awt.Point;
import java.awt.Rectangle;
import java.awt.Shape;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.MouseMotionListener;

public class Input implements KeyListener, MouseListener, MouseMotionListener {

	//Keys
	public final static int UP = KeyEvent.VK_UP; 
	public final static int DOWN = KeyEvent.VK_DOWN; 
	public final static int LEFT = KeyEvent.VK_LEFT; 
	public final static int RIGHT = KeyEvent.VK_RIGHT; 
	
	public final static int A = KeyEvent.VK_A; 
	public final static int B = KeyEvent.VK_B; 
	public final static int C = KeyEvent.VK_C; 
	public final static int D = KeyEvent.VK_D; 
	public final static int E = KeyEvent.VK_E; 
	public final static int F = KeyEvent.VK_F; 
	public final static int G = KeyEvent.VK_G; 
	public final static int H = KeyEvent.VK_H; 
	public final static int I = KeyEvent.VK_I; 
	public final static int J = KeyEvent.VK_J; 
	public final static int K = KeyEvent.VK_K; 
	public final static int L = KeyEvent.VK_L; 
	public final static int M = KeyEvent.VK_M; 
	public final static int N = KeyEvent.VK_N; 
	public final static int O = KeyEvent.VK_O; 
	public final static int P = KeyEvent.VK_P; 
	public final static int Q = KeyEvent.VK_Q; 
	public final static int R = KeyEvent.VK_R; 
	public final static int S = KeyEvent.VK_S; 
	public final static int T = KeyEvent.VK_T; 
	public final static int U = KeyEvent.VK_U; 
	public final static int V = KeyEvent.VK_V; 
	public final static int W = KeyEvent.VK_W; 
	public final static int X = KeyEvent.VK_X; 
	public final static int Y = KeyEvent.VK_Y; 
	public final static int Z = KeyEvent.VK_Z; 
	public final static int N0 = KeyEvent.VK_0; 
	public final static int N1  = KeyEvent.VK_1; 
	public final static int N2 = KeyEvent.VK_2; 
	public final static int N3 = KeyEvent.VK_3; 
	public final static int N4 = KeyEvent.VK_4; 
	public final static int N5 = KeyEvent.VK_5; 
	public final static int N6 = KeyEvent.VK_6; 
	public final static int N7 = KeyEvent.VK_7; 
	public final static int N8 = KeyEvent.VK_8; 
	public final static int N9 = KeyEvent.VK_9; 
	public final static int NP0 = KeyEvent.VK_NUMPAD0; 
	public final static int NP1 = KeyEvent.VK_NUMPAD1; 
	public final static int NP2 = KeyEvent.VK_NUMPAD2; 
	public final static int NP3 = KeyEvent.VK_NUMPAD3; 
	public final static int NP4 = KeyEvent.VK_NUMPAD4; 
	public final static int NP5 = KeyEvent.VK_NUMPAD5; 
	public final static int NP6 = KeyEvent.VK_NUMPAD6; 
	public final static int NP7 = KeyEvent.VK_NUMPAD7; 
	public final static int NP8 = KeyEvent.VK_NUMPAD8; 
	public final static int NP9 = KeyEvent.VK_NUMPAD9; 
	public final static int F1 = KeyEvent.VK_F1; 
	public final static int F2 = KeyEvent.VK_F2; 
	public final static int F3 = KeyEvent.VK_F3; 
	public final static int F4 = KeyEvent.VK_F4; 
	public final static int F5 = KeyEvent.VK_F5; 
	public final static int F6 = KeyEvent.VK_F6; 
	public final static int F7 = KeyEvent.VK_F7; 
	public final static int F8 = KeyEvent.VK_F8; 
	public final static int F9 = KeyEvent.VK_F9; 
	public final static int F10 = KeyEvent.VK_F10; 
	public final static int F11 = KeyEvent.VK_F11; 
	public final static int F12 = KeyEvent.VK_F12; 
	
	public final static int DELETE = KeyEvent.VK_DELETE; 
	public final static int TAB = KeyEvent.VK_TAB; 
	public final static int CAPS_LOCK = KeyEvent.VK_CAPS_LOCK; 
	public final static int CONTROL = KeyEvent.VK_CONTROL; 
	public final static int ALT = KeyEvent.VK_ALT; 
	public final static int COMMA = KeyEvent.VK_COMMA; 
	public final static int PERIOD = KeyEvent.VK_PERIOD; 
	public final static int BACK_SPLASH = KeyEvent.VK_BACK_SLASH; 
	public final static int COLON = KeyEvent.VK_COLON; 
	public final static int DECIMAL = KeyEvent.VK_DECIMAL; 
	public final static int ESCAPE = KeyEvent.VK_ESCAPE; 
	public final static int ADD = KeyEvent.VK_ADD; 
	public final static int EQUALS = KeyEvent.VK_EQUALS; 
	public final static int BRACERIGHT = KeyEvent.VK_BRACERIGHT; 
	public final static int BRACELEFT = KeyEvent.VK_BRACELEFT; 
	public final static int SLASH = KeyEvent.VK_SLASH; 
	public final static int MINUS = KeyEvent.VK_MINUS;
	public final static int SHIFT = KeyEvent.VK_SHIFT; 
	public final static int SPACE = KeyEvent.VK_SPACE; 
	public final static int ENTER = KeyEvent.VK_ENTER; 
	public static final int BACKSPACE = KeyEvent.VK_BACK_SPACE;
	
	private static boolean[] keyPressed;
	private static boolean[] keyClicked;
	private static boolean mouseClicked;
	private static boolean mousePressed;

	private static boolean anyKeyPressed;
	private static boolean anyKeyClicked;
	/**
	 * 
	 * Hold the mouse's current point
	 */
	public static Point point;

	String lastKeyString; 
	
	private int keyCode; 
	
<span class="fc" id="L177">	public Input() {</span>
		// 400 is just an assumption of the maximum number of keys. 
<span class="fc" id="L179">		keyPressed = new boolean[600];</span>
<span class="fc" id="L180">		keyClicked = new boolean[600];</span>

<span class="fc" id="L182">		point = new Point(6, 0);</span>
		// Initializing
<span class="fc bfc" id="L184" title="All 2 branches covered.">		for (int i = 0; i &lt; 400; i++) {</span>
<span class="fc" id="L185">			keyPressed[i] = false;</span>
<span class="fc" id="L186">			keyClicked[i] = false;</span>
		}

<span class="fc" id="L189">		mouseClicked = false;</span>
<span class="fc" id="L190">		mousePressed = false;</span>

<span class="fc" id="L192">		anyKeyPressed = false;</span>
<span class="fc" id="L193">	}</span>

	public Input(Component c) {
<span class="fc" id="L196">		this();</span>
<span class="fc" id="L197">		addListenerTo(c); //TODO do I really need this? Does it hurt? </span>
<span class="fc" id="L198">	}</span>
	
	@Override
	public void keyPressed(KeyEvent e) {
<span class="nc" id="L202">		keyCode = e.getKeyCode();</span>
		
<span class="nc bnc" id="L204" title="All 2 branches missed.">		if (!keyPressed[keyCode])</span>
<span class="nc" id="L205">			keyClicked[keyCode] = true;</span>
<span class="nc bnc" id="L206" title="All 2 branches missed.">		if (!anyKeyPressed)</span>
<span class="nc" id="L207">			anyKeyClicked = true;</span>

<span class="nc" id="L209">		keyPressed[keyCode] = true;</span>
<span class="nc" id="L210">		anyKeyPressed = true;</span>
		
<span class="nc" id="L212">	}</span>

	@Override
	public void keyReleased(KeyEvent e) {
<span class="nc" id="L216">		int keyCode = e.getKeyCode();</span>
<span class="nc" id="L217">		keyPressed[keyCode] = false;</span>
<span class="nc" id="L218">		keyClicked[keyCode] = false;</span>
<span class="nc" id="L219">		anyKeyPressed = false;</span>
<span class="nc" id="L220">		anyKeyClicked = false;</span>
<span class="nc" id="L221">	}</span>

	@Override
	public void keyTyped(KeyEvent e) {
<span class="nc" id="L225">	}</span>

	// Returns true with is key is down and false with the key is up.
	// This method is usable for motion in games
	public boolean keyIsDown(int keyCode) {
<span class="nc" id="L230">		return keyPressed[keyCode];</span>
	}

	// Returns true with is key is up and false with the key is down.
	public boolean keyIsUp(int keyCode) {
<span class="nc bnc" id="L235" title="All 2 branches missed.">		return !keyPressed[keyCode];</span>
	}

	// This method returns true only the first time the key is hit.
	// It's useful when you what to play a sound with a key
	public boolean keyIsClicked(int keyCode) {

<span class="nc bnc" id="L242" title="All 2 branches missed.">		if (keyClicked[keyCode]) {</span>
<span class="nc" id="L243">			keyClicked[keyCode] = false;</span>
<span class="nc" id="L244">			return true;</span>
		}

<span class="nc" id="L247">		return false;</span>
	}

	// You can use this method to add Listener
	public void addListenerTo(Component c) {
<span class="fc" id="L252">		c.addKeyListener(this);</span>
<span class="fc" id="L253">		c.addMouseListener(this);</span>
<span class="fc" id="L254">		c.addMouseMotionListener(this);</span>
<span class="fc" id="L255">	}</span>

	@Override
	public void mouseDragged(MouseEvent e) {
<span class="nc" id="L259">		point = e.getPoint();</span>
<span class="nc" id="L260">	}</span>

	@Override
	public void mouseMoved(MouseEvent e) {
<span class="nc" id="L264">		point = e.getPoint();</span>

<span class="nc" id="L266">	}</span>

	@Override 
	public void mouseClicked(MouseEvent e) {
<span class="nc" id="L270">		point = e.getPoint();</span>
<span class="nc" id="L271">	}</span>

	@Override
	public void mouseEntered(MouseEvent e) {
<span class="nc" id="L275">		point = e.getPoint();</span>
<span class="nc" id="L276">	}</span>

	@Override
	public void mouseExited(MouseEvent e) {
<span class="nc" id="L280">		point = e.getPoint();</span>
<span class="nc" id="L281">	}</span>

	@Override
	public void mousePressed(MouseEvent e) {
<span class="nc bnc" id="L285" title="All 2 branches missed.">		if (!mousePressed)</span>
<span class="nc" id="L286">			mouseClicked = true;</span>
<span class="nc" id="L287">		mousePressed = true;</span>

<span class="nc" id="L289">	}</span>

	@Override
	public void mouseReleased(MouseEvent e) {
<span class="nc" id="L293">		mouseClicked = false;</span>
<span class="nc" id="L294">		mousePressed = false;</span>
<span class="nc" id="L295">	}</span>

	public boolean mouseIsClicked() {
<span class="nc bnc" id="L298" title="All 2 branches missed.">		if (mouseClicked) {</span>
<span class="nc" id="L299">			mouseClicked = false;</span>
<span class="nc" id="L300">			return true;</span>
		} else
<span class="nc" id="L302">			return false;</span>
	}
	
	public boolean mouseIsDown(){
<span class="nc" id="L306">		return mousePressed;</span>
	}
	public boolean mouseIsUp(){
<span class="nc bnc" id="L309" title="All 2 branches missed.">		return !mousePressed;</span>
	}
	public boolean anyKeyIsPressed() {
<span class="nc" id="L312">		return anyKeyPressed;</span>
	}

	public boolean anyKeyIsClicked() {
<span class="nc" id="L316">		return anyKeyClicked;</span>
	}
	
	public String getKeyString(){
<span class="nc" id="L320">		return KeyEvent.getKeyText(keyCode);</span>
	}

	
	
	
	
	
	@Override 
	public String toString(){
<span class="nc" id="L330">		return &quot;YOLO&quot;;</span>
	}

	
	//TODO this should be developed more such that: return if click and release occur inside Shape
	public boolean mouseIsClicked(Shape s) {
		
<span class="nc bnc" id="L337" title="All 2 branches missed.">		if(s.contains(point))</span>
<span class="nc bnc" id="L338" title="All 2 branches missed.">			if(mouseIsClicked())</span>
<span class="nc" id="L339">				return true;</span>
<span class="nc" id="L340">		return false;</span>
	}
	
	public boolean isIn(Shape s)
	{
<span class="nc" id="L345">		return (s.contains(point)); </span>
	}
	
	
	
	
}// end class
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span>NetworkedChess (Mar 7, 2016 4:29:16 PM)</div></body></html>